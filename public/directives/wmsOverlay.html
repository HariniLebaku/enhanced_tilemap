<div class="form-group">
  <div class="vis-option-item form-group">
    <label>
      Server <kbn-info info="Select WMS server. Manage server list with Kibana Configuration item enhanced-tilemap:wms-overlay-servers."></kbn-info>
    </label>
    <input required type="text" class="form-control"
      ng-show="wmsServers.length === 0"
      ng-model="layer.url"
      ng-change="getCapabilities()"
      ng-model-options="{debounce:2000}">
    <select required class="form-control"
      ng-show="wmsServers.length > 0"
      ng-model="layer.url"
      ng-options="layer.value as layer.name for layer in wmsServers"
      ng-change="getCapabilities()">
    </select>
  </div>
  <div class="vis-option-item form-group side-by-side">
    <label>
      Layers
    </label>
    <input required type="text" class="form-control"
      ng-show="layersList.length === 0"
      ng-model="layer.layers">
    <select required class="form-control"
      ng-show="layersList.length !== 0"
      ng-model="layer.layers"
      ng-options="layer.id as layer.text for layer in layersList">
    </select>
  </div>
  <div class="vis-option-item form-group side-by-side">
    <label>
      Display Name <kbn-info info="Layer name displayed in map layer control."></kbn-info>
    </label>
    <input type="text" class="form-control"
      ng-model="layer.displayName">
  </div>
  <div class="vis-option-item form-group">
    <label>
      CQL Filter
    </label>
    <input type="text" class="form-control"
      ng-model="layer.cqlFilter"   
      name="layer.cqlFilter">
  </div>
  <div class="vis-option-item form-group side-by-side">
    <label>
      Min Zoom Level <kbn-info info="WMS layer will only be active when the map zoom level is at or below this value."></kbn-info>
    </label>
    <select class="form-control" ng-model="layer.minZoom"
      ng-options="zoomLevel for zoomLevel in zoomLevels"></select>
  </div>
  <div class="vis-option-item form-group side-by-side">
    <label>
      Max Features <kbn-info info="Sets a limit on the amount of features rendered per tile."></kbn-info>
    </label>
    <input type="number" min="1" class="form-control"
      placeholder="1000" 
      ng-model="layer.maxFeatures"   
      name="layer.maxFeatures">
  </div>
  <div class="vis-option-item form-group">
    <label>
      <input type="checkbox"
      name="viewparams"
      ng-model="layer.viewparams">

      Sync Kibana Filters

      <kbn-info info="When true, kibana filters are sent to the WMS server resulting in tiles that reflect the time range, search query, and filters of your kibana application. Requires WMS to be served from an elasticsearch Store."></kbn-info>
    </label>
  </div>
  <div class="form-group" ng-show="layer.viewparams">
    <label>
      WMS Index Pattern
      <kbn-info info="Select an Index Pattern to use for constructing Kibana Filters.
      This mainly affects the time filter field name. The visualization Index
      Pattern is used when not set"></kbn-info>
    </label>
    <select class="form-control" ng-model="layer.indexId" ng-options="indexId for indexId in indexPatternList">
    </select>
  </div>
</div>